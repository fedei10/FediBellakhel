---
import MainLayout from '../layout/MainLayout.astro';
import { Image } from 'astro:assets';
import profileImage from '../assets/images/fedi.jpg';
import { GraduationCap, Award, Code, Database, Cloud, ShieldCheck, Settings, TerminalSquare, Wind, Bot, GitMerge, Braces, Palette, Server, BrainCircuit, Link as LinkIcon, ExternalLink, Folder } from 'lucide-astro';
export const experiences = [
    {
        id:'Don By Uib',
        title:'Web, Mobile & AI Developer',
        company:'UIB',
        companyLink:'https://www.uib.com.tn/',
        location:'Tunis, Tunisia',
        period:'6 months (2025)',
        summary:'As a Web, Mobile & AI Developer at UIB, I was Tasked to redesign the Current Don By UIB solution, which is a web and mobile application that allows customers to make donations to various associations. The goal was to enhance the user experience and improve the overall functionality of the application. I added various IA integrations such as , a chatbot , sentiment analysis arabizi and french , langauge detection and text ocr features. I also worked on the backend to ensure that the application was secure and efficient. The project was a success, and I was able to deliver a high-quality product that met the needs of the client.',
        responsibilities:[
            'Redesigning the Don By UIB solution to enhance user experience.',
            'Implementing AI integrations such as chatbot, sentiment analysis, language detection, and text OCR.',
            'Ensuring backend security and efficiency.',
            'Delivering a high-quality product that meets client needs.','creating a role Based application','enhance the admin experience by adding analytics and statistics features and functions to retrain arabizi model and Human in the loop process the fix the arabizi predictions',
        ],skills:[
            'Flutter',
            'Dart',
            'Python',
            'FastAPI',
            'Firebase',
            'camemBERT',
            'PaddleOCR',
            'Pytorch',
            'openssl',
            'git',
            'marBERTV2',
            'XLM-RoBERTa',
        ],
    },
    {
        id:'Votini',
        title:'Blockchain Developer',
        company:'Centre National Informatique (CNI)',
        companyLink:'http://www.cni.tn/',
        location:'Tunis, Tunisia',
        period:'2 months (2024)',
        summary:'As a Blockchain Developer at CNI, I was responsible for developing a voting system using blockchain technology. The goal was to create a secure and transparent voting system that could be used for various elections. I worked on the smart contracts, the frontend and the backend of the application. The project was a success, and I was able to deliver a high-quality product that met the needs of the client.',
        responsibilities:[
            'Developing a secure and transparent voting system leverging Blockchan capabilities.',
            'Creating smart contracts for the voting process.',
            'Implementing the frontend and backend of the application.',
            'Ensuring the application met client needs and security standards.',
            'Integrating IPFS for decentralized file storage.',
        ],skills:[
            'Solidity',
            'JavaScript',
            'React',
            'Node.js',
            'IPFS',
            'Web3.js',
            'Truffle',
            'Ganache',
            'Metamask',
            'Git',
        ],
    },
]

export const projects = [
    {
        id: 'don-by-uib',
        title: 'Don By UIB - Donation Platform',
        description: 'A comprehensive web and mobile application for charitable donations with AI-powered features including chatbot assistance, sentiment analysis, and OCR capabilities.',
        technologies: ['Flutter', 'Python', 'FastAPI', 'Firebase', 'PyTorch', 'camemBERT'],
        link: 'https://github.com/fedei10/don-by-uib',
        demoLink: 'https://don-by-uib.vercel.app',
        status: 'Completed',
        year: '2025'
    },
    {
        id: 'votini-blockchain',
        title: 'Votini - Blockchain Voting System',
        description: 'A secure and transparent voting system built on blockchain technology with smart contracts and IPFS integration for decentralized file storage.',
        technologies: ['Solidity', 'React', 'Node.js', 'Web3.js', 'IPFS', 'Truffle'],
        link: 'https://github.com/fedei10/votini',
        demoLink: 'https://votini-demo.vercel.app',
        status: 'Completed',
        year: '2024'
    },
    {
        id: 'ai-sentiment-analyzer',
        title: 'Arabizi Sentiment Analysis',
        description: 'Advanced sentiment analysis system for Arabizi (Arabic written in Latin script) and French text using transformer models and custom training pipelines.',
        technologies: ['Python', 'PyTorch', 'marBERTV2', 'XLM-RoBERTa', 'FastAPI'],
        link: 'https://github.com/fedei10/arabizi-sentiment',
        status: 'In Progress',
        year: '2024'
    },
    {
        id: 'portfolio-website',
        title: 'Personal Portfolio',
        description: 'A modern, responsive portfolio website built with Astro featuring command palette navigation and interactive timeline.',
        technologies: ['Astro', 'TypeScript', 'Tailwind CSS', 'DaisyUI'],
        link: 'https://github.com/fedei10/portfolio',
        demoLink: 'https://fedibellakhel.dev',
        status: 'Completed',
        year: '2024'
    }
];

export const skills = [
  { name: 'Python', icon: Code },
  { name: 'Dart', icon: Code },
  { name: 'PyTorch', icon: Settings },
  { name: 'React', icon: Bot },
  { name: 'Next.js', icon: LinkIcon },
  { name: 'Tailwind CSS', icon: Wind },
  { name: 'TypeScript', icon: Code },
  { name: 'JavaScript', icon: Code },
  { name: 'HTML5', icon: Code },
  { name: 'CSS3', icon: Palette },
  { name: 'Node.js', icon: Server },
  { name: 'SQL Databases', icon: Database },
  { name: 'Git', icon: GitMerge },
  { name: 'GitHub', icon: GitMerge  },
  { name: 'GitHub Actions', icon: Settings },
  { name: 'Docker', icon: TerminalSquare },
  { name: 'Kubernetes', icon: Settings },
  { name: 'REST APIs', icon: LinkIcon },
  { name: 'Blockchain / Ethereum', icon: BrainCircuit },
];

const education = [
  {
    institution: 'The Higher Institute of Information and Communications Technologies (ISTIC)',
    degree: 'Bachelor Computer Science, Software Engineering',
    period: '2023 - 2025',
    location: 'Borj Cedria, Tunisia',
  },
   {
    institution: 'Higher Institute of Applied Sciences and Technology of Mateur (ISSATM)',
    degree: 'Bachelor Computer Science, Software Engineering',
    period: '2022 - 2023',
    location: 'Mateur, Bizerte',
   },
  {
    institution:'High School Ahmed amine Mourouj 4',
    degree:'computer science baccalaureate',
    period:'2018 - 2022',
    location: 'Mourouj 4 , Ben Arous'
  }
];

export const certificates = [
  {
    name: 'Big Date Engineer Certificate',
    issuer: 'IBM',
    year: '2025',
    link: 'https://www.credly.com/badges/7aa2d3e5-e2db-47a0-bdb3-e0cfc956113d/linked_in_profile',
  },
  {
    name: 'Applications of AI Predictive Maintenance',
    issuer: 'Nvidia',
    year: '2024',
    link: 'https://learn.nvidia.com/certificates?id=vpKQW0R6RoGl5lfSYEUhhQ',
  },
  {
    name: 'Building Transformer-Based Natural Language Processing (NLP) Applications',
    issuer: 'Nvidia',
    year: '2024',
    link: 'https://learn.nvidia.com/certificates?id=fu2ox50WSwKZYNsx3p1zcg',
  },
  {
    name: 'Fundamentals of Deep Learning',
    issuer: 'Nvidia',
    year: '2024',
    link: 'https://learn.nvidia.com/certificates?id=9zRJbg7nSoecwBht1UlUkg',
  },
];

---

<MainLayout>
  <!-- Command Palette -->
  <div id="command-palette" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden">
    <div class="flex items-start justify-center pt-20">
      <div class="bg-base-100 rounded-lg shadow-2xl w-full max-w-2xl mx-4 border border-base-300">
        <div class="p-4 border-b border-base-300">
          <h2 class="text-lg font-semibold text-base-content">Search Command</h2>
        </div>
        
        <div class="p-4 space-y-4">
          <!-- Actions Section -->
          <div>
            <h3 class="text-sm font-medium text-base-content/70 mb-2">Actions</h3>
            <div class="space-y-1">
              <button class="command-item w-full flex items-center justify-between p-3 rounded-md hover:bg-base-200 text-left">
                <div class="flex items-center gap-3">
                  <div class="w-5 h-5 text-base-content/70">üìÑ</div>
                  <span class="text-base-content">Download Security Resume</span>
                </div>
                <div class="flex items-center gap-1 text-xs text-base-content/50">
                  <kbd class="kbd kbd-xs">ctrl</kbd>
                  <kbd class="kbd kbd-xs">P</kbd>
                </div>
              </button>
              
              <button class="command-item w-full flex items-center justify-between p-3 rounded-md hover:bg-base-200 text-left">
                <div class="flex items-center gap-3">
                  <div class="w-5 h-5 text-base-content/70">üìÑ</div>
                  <span class="text-base-content">Download Software Engineering Resume</span>
                </div>
                <div class="flex items-center gap-1 text-xs text-base-content/50">
                  <kbd class="kbd kbd-xs">ctrl</kbd>
                  <kbd class="kbd kbd-xs">S</kbd>
                </div>
              </button>
            </div>
          </div>

          <!-- Social Section -->
          <div>
            <h3 class="text-sm font-medium text-base-content/70 mb-2">Social</h3>
            <div class="space-y-1">
              <button class="command-item w-full flex items-center justify-between p-3 rounded-md hover:bg-base-200 text-left" data-action="linkedin">
                <div class="flex items-center gap-3">
                  <div class="w-5 h-5 text-blue-600">üíº</div>
                  <span class="text-base-content">Visit LinkedIn</span>
                </div>
                <div class="flex items-center gap-1 text-xs text-base-content/50">
                  <kbd class="kbd kbd-xs">ctrl</kbd>
                  <kbd class="kbd kbd-xs">L</kbd>
                </div>
              </button>
              
              <button class="command-item w-full flex items-center justify-between p-3 rounded-md hover:bg-base-200 text-left" data-action="twitter">
                <div class="flex items-center gap-3">
                  <div class="w-5 h-5 text-base-content/70">ùïè</div>
                  <span class="text-base-content">Visit X</span>
                </div>
                <div class="flex items-center gap-1 text-xs text-base-content/50">
                  <kbd class="kbd kbd-xs">ctrl</kbd>
                  <kbd class="kbd kbd-xs">X</kbd>
                </div>
              </button>
              
              <button class="command-item w-full flex items-center justify-between p-3 rounded-md hover:bg-base-200 text-left" data-action="github">
                <div class="flex items-center gap-3">
                  <div class="w-5 h-5 text-base-content/70">üêô</div>
                  <span class="text-base-content">Visit GitHub</span>
                </div>
                <div class="flex items-center gap-1 text-xs text-base-content/50">
                  <kbd class="kbd kbd-xs">ctrl</kbd>
                  <kbd class="kbd kbd-xs">G</kbd>
                </div>
              </button>
            </div>
          </div>

          <!-- Contact Section -->
          <div>
            <h3 class="text-sm font-medium text-base-content/70 mb-2">Contact</h3>
            <div class="space-y-1">
              <button class="command-item w-full flex items-center justify-between p-3 rounded-md hover:bg-base-200 text-left" data-action="message">
                <div class="flex items-center gap-3">
                  <div class="w-5 h-5 text-base-content/70">üí¨</div>
                  <span class="text-base-content">Leave a Message</span>
                </div>
                <div class="flex items-center gap-1 text-xs text-base-content/50">
                  <kbd class="kbd kbd-xs">ctrl</kbd>
                  <kbd class="kbd kbd-xs">M</kbd>
                </div>
              </button>
            </div>
          </div>
        </div>

        <div class="p-4 border-t border-base-300 text-xs text-base-content/50 flex items-center justify-between">
          <div class="flex items-center gap-4">
            <span class="flex items-center gap-1">
              <kbd class="kbd kbd-xs">‚Üµ</kbd>
              to select
            </span>
            <span class="flex items-center gap-1">
              <kbd class="kbd kbd-xs">‚Üë</kbd>
              <kbd class="kbd kbd-xs">‚Üì</kbd>
              to navigate
            </span>
          </div>
          <span class="flex items-center gap-1">
            <kbd class="kbd kbd-xs">Ctrl</kbd>
            <kbd class="kbd kbd-xs">+</kbd>
            <kbd class="kbd kbd-xs">K</kbd>
            <kbd class="kbd kbd-xs">Escape</kbd>
            to close
          </span>
        </div>
      </div>
    </div>
  </div>

  <!-- Message Modal -->
  <div id="message-modal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden">
    <div class="flex items-center justify-center min-h-screen p-4">
      <div class="bg-base-100 rounded-lg shadow-2xl w-full max-w-md border border-base-300">
        <div class="p-6">
          <h3 class="text-lg font-semibold text-base-content mb-4">Leave a Message</h3>
          <form id="message-form" class="space-y-4">
            <div>
              <label class="block text-sm font-medium text-base-content/70 mb-2">Name</label>
              <input type="text" class="input input-bordered w-full" placeholder="Your name" required>
            </div>
            <div>
              <label class="block text-sm font-medium text-base-content/70 mb-2">Email</label>
              <input type="email" class="input input-bordered w-full" placeholder="your@email.com" required>
            </div>
            <div>
              <label class="block text-sm font-medium text-base-content/70 mb-2">Message</label>
              <textarea class="textarea textarea-bordered w-full h-24" placeholder="Your message..." required></textarea>
            </div>
            <div class="flex gap-3 pt-4">
              <button type="button" id="cancel-message" class="btn btn-ghost flex-1">Cancel</button>
              <button type="submit" class="btn btn-primary flex-1">Send Message</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-[minmax(280px,1fr)_2fr] gap-x-10 gap-y-8 px-2 sm:px-4 py-8">
    <!-- Left Column: Profile, About, Skills, Certificates -->
    <div class="md:col-span-1 space-y-10 md:sticky md:top-24 md:self-start">
      <div class="p-1">
        <div class="flex flex-col items-center text-center">
          <div class="avatar mb-5">
            <div class="w-28 h-28 rounded-full border-2 border-primary/50 overflow-hidden">
              <Image src={profileImage || "/placeholder.svg?width=112&height=112&query=Fedi+Bellakhel+profile"} alt="Fedi Bellakhel" width={112} height={112} class="object-cover w-full h-full" />
            </div>
          </div>
          <h1 class="text-2xl sm:text-3xl font-bold text-base-content">Fedi Bellakhel</h1>
          <p class="text-md text-base-content/70 mt-1">Software Engineer</p>
          <div class="flex flex-wrap justify-center gap-x-5 gap-y-3 mt-5">
           {[
  {
    href: "mailto:bellakhelfedi@gmail.com",
    label: "Email",
    svgPath: "M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2zm0 4l8 5 8-5V6l8 5 8-5v2z",
    polyline: "22,6 12,13 2,6"
  },
  {
    href: "tel:+21652155437",
    label: "Phone",
    svgPath: "M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"
  },
  {
    href: "https://linkedin.com/in/fedi-bellakhel",
    label: "LinkedIn",
    svgPath: "M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6zM2 9h4v12H2zM4 4a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"
  },
  {
    href: "https://github.com/fedei10",
    label: "GitHub",
    svgPath: "M12 2C6.48 2 2 6.48 2 12c0 4.42 2.87 8.17 6.84 9.49.5.09.66-.22.66-.48v-1.7c-2.78.6-3.37-1.34-3.37-1.34-.45-1.17-1.1-1.48-1.1-1.48-.9-.62.07-.6.07-.6 1 .07 1.53 1.02 1.53 1.02.89 1.52 2.34 1.08 2.91.82.09-.65.35-1.08.63-1.33-2.22-.25-4.56-1.11-4.56-4.95 0-1.1.39-2 .99-2.71-.1-.25-.43-1.27.09-2.65 0 0 .83-.27 2.75 1.02a9.6 9.6 0 0 1 5 0c1.92-1.3 2.75-1.02 2.75-1.02.52 1.38.19 2.4.09 2.65.61.71.99 1.61.99 2.71 0 3.85-2.34 4.7-4.57 4.95.36.31.68.91.68 1.84v2.73c0 .27.16.58.67.48A10.002 10.002 0 0 0 22 12c0-5.52-4.48-10-10-10z"
  },
  {
    href: "https://www.facebook.com/fedi.bellakhel.7/",
    label: "Facebook",
    svgPath: "M18 2h-3a6 6 0 0 0-6 6v3H6v4h3v8h4v-8h3l1-4h-4V8a2 2 0 0 1 2-2h3z"
  }
].map(icon => (
  <a
    href={icon.href}
    target={icon.href.startsWith('http') ? '_blank' : undefined}
    rel={icon.href.startsWith('http') ? 'noopener noreferrer' : undefined}
    class="profile-social-icon transition-colors"
    aria-label={icon.label}
  >
    <svg
  xmlns="http://www.w3.org/2000/svg"
  width="20"
  height="20"
  viewBox="0 0 24 24"
  fill="none"
  stroke="currentColor"
  stroke-width="2"
  stroke-linecap="round"
  stroke-linejoin="round"
>
  <path d={icon.svgPath}></path>
  {icon.polyline && <polyline points={icon.polyline}></polyline>}
</svg>
  </a>
))}
          </div>
        </div>
      </div>

      <div class="p-1">
        <h2 class="section-heading">About</h2>
        <p class="text-sm text-base-content/80 leading-relaxed">
          I am a highly motivated and enthusiastic computer science student with a passion for acquiring new skills and knowledge. Eager to learn and grow, I thrive as a team player with excellent analytical abilities. I excel in multitasking and time management, and I adapt quickly to new challenges and environments. Committed to continuous professional and personal development, I am currently seeking a summer internship to further enhance my expertise and contribute to innovative projects.
        </p>
      </div>

      <!-- Skills Section -->
      <div class="p-1">
        <h2 class="section-heading">Skills</h2>
        <div class="flex flex-wrap gap-x-4 gap-y-3">
          {skills.map(skill => (
            <div class="flex items-center gap-2 text-sm text-base-content/90 bg-base-200/60 py-1 px-3 rounded-md">
              {skill.icon && <skill.icon class="w-4 h-4 text-primary" />}
              <span>{skill.name}</span>
            </div>
          ))}
        </div>
      </div>

      <!-- Certificates Section -->
      <div class="p-1">
        <h2 class="section-heading">Certificates</h2>
        <div class="space-y-6">
          {certificates.map(cert => (
            <div class="flex items-start gap-4">
              <div class="text-primary pt-1">
                <Award class="w-6 h-6" />
              </div>
              <div>
                <h3 class="font-semibold text-base-content">
                  {cert.link ? (
                    <a href={cert.link} target="_blank" rel="noopener noreferrer" class="hover:underline">{cert.name}</a>
                  ) : cert.name}
                </h3>
                <p class="text-sm text-base-content/80">{cert.issuer}</p>
              </div>
              <p class="text-sm text-base-content/60 ml-auto whitespace-nowrap pt-1">{cert.year}</p>
            </div>
          ))}
        </div>
      </div>
    </div>

    <!-- Right Column: Education, Experience, Projects -->
    <div class="md:col-span-1 space-y-12">
      <!-- Education Section -->
      <div>
        <h2 class="section-heading">Education</h2>
        <div class="space-y-6">
          {education.map(edu => (
            <div class="flex items-start gap-4">
              <div class="text-primary pt-1">
                <GraduationCap class="w-6 h-6" />
              </div>
              <div>
                <h3 class="font-semibold text-base-content">{edu.institution}</h3>
                <p class="text-sm text-base-content/80">{edu.degree}</p>
                {edu.location && <p class="text-xs text-base-content/60">{edu.location}</p>}
              </div>
              <p class="text-sm text-base-content/60 ml-auto whitespace-nowrap pt-1">{edu.period}</p>
            </div>
          ))}
        </div>
      </div>

      

      <!-- Experience Section -->
      <div>
        <h2 id="experience-heading" class="section-heading">Experience</h2> 
        <div class="relative mt-2">
          <div class="absolute left-3.5 top-2 bottom-0 w-0.5 bg-base-300/70 hidden md:block transform -translate-x-1/2 z-0"></div>
          {experiences.map((exp, index) => (
            <div id={exp.id} class:list={["experience-item mb-10 md:mb-12 relative md:pl-10 py-1", {'mt-0': index === 0}]}>
              <div class="absolute left-0 top-2.5 hidden md:flex items-center z-10">
                <div data-timeline-dot-for={exp.id} class="timeline-dot w-3.5 h-3.5 rounded-full bg-base-300 border-2 border-base-100 transition-all duration-300 transform -translate-x-0"></div>
              </div>
              <div class="experience-card p-5 sm:p-6 rounded-lg">
                <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-1">
                  <div>
                    <h3 class="text-md sm:text-lg font-semibold text-base-content leading-tight">
                      {exp.title} @ <a href={exp.companyLink} target="_blank" rel="noopener noreferrer">{exp.company}</a>
                    </h3>
                    <p class="text-xs sm:text-sm text-base-content/60 mt-0.5">{exp.location}</p>
                  </div>
                  <p class="text-xs sm:text-sm text-base-content/50 mt-1 sm:mt-0 whitespace-nowrap">{exp.period}</p>
                </div>
                <div class="mt-3">
                  <p class="text-sm text-base-content/80 mb-2 leading-relaxed">
                    <strong>Summary:</strong> {exp.summary}
                  </p>
                  {exp.responsibilities && exp.responsibilities.length > 0 && (
                    <>
                      <p class="text-xs font-medium text-base-content/70 mt-3 mb-1 uppercase tracking-wider">Key Responsibilities:</p>
                      <ul class="list-disc pl-5 text-sm text-base-content/75 space-y-1 marker:text-primary/70">
                        {exp.responsibilities.map(resp => <li>{resp}</li>)}
                      </ul>
                    </>
                  )}
                  {exp.skills && exp.skills.length > 0 && (
                    <div class="flex flex-wrap gap-1.5 mt-4">
                      {exp.skills.map(skill => <span class="badge badge-sm bg-primary/20 text-primary border-primary/30">{skill}</span>)}
                    </div>
                  )}
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  </div>

  <div class="divider"></div>



  <div>
      <h2 class="section-heading">Projects</h2>
        <div class="grid gap-2">
          {projects.map(project => (
            <div class="project-card p-6 rounded-lg border border-base-300 hover:border-primary/30 transition-colors">
              <div class="flex items-start justify-between mb-3">
                <div class="flex items-center gap-3">
                  <div class="text-primary">
                    <Folder class="w-6 h-6" />
                  </div>
                  <div>
                    <h3 class="font-semibold text-base-content text-lg">{project.title}</h3>
                    <div class="flex items-center gap-2 mt-1">
                      <span class={`badge badge-sm ${project.status === 'Completed' ? 'badge-success' : 'badge-warning'}`}>
                        {project.status}
                      </span>
                      <span class="text-xs text-base-content/60">{project.year}</span>
                    </div>
                  </div>
                </div>
                <div class="flex gap-2">
                  {project.demoLink && (
                    <a href={project.demoLink} target="_blank" rel="noopener noreferrer" 
                       class="btn btn-sm btn-ghost" aria-label="View Demo">
                      <ExternalLink class="w-4 h-4" />
                    </a>
                  )}
                  <a href={project.link} target="_blank" rel="noopener noreferrer" 
                     class="btn btn-sm btn-ghost" aria-label="View Code">
                    <github class="w-4 h-4" />
                  </a>
                </div>
              </div>
              
              <p class="text-sm text-base-content/80 mb-4 leading-relaxed">
                {project.description}
              </p>
              
              <div class="flex flex-wrap gap-2">
                {project.technologies.map(tech => (
                  <span class="badge badge-sm bg-primary/10 text-primary border-primary/20">
                    {tech}
                  </span>
                ))}
              </div>
            </div>
          ))}
        </div>
      </div>












<script is:inline>
  document.addEventListener('DOMContentLoaded', () => {
    // Experience timeline observer
    const experienceItems = document.querySelectorAll('.experience-item');
    const timelineDots = document.querySelectorAll('.timeline-dot');

    if (experienceItems.length > 0 && timelineDots.length > 0) {
      const observer = new IntersectionObserver(entries => {
        let activeEntry = null;
        for (const entry of entries) {
          if (entry.isIntersecting) {
            if (!activeEntry || entry.target.getBoundingClientRect().top < activeEntry.target.getBoundingClientRect().top) {
              activeEntry = entry;
            }
          }
        }
        
        timelineDots.forEach(dot => {
          dot.classList.remove('bg-primary', 'scale-125', 'border-primary/50');
          dot.classList.add('bg-base-300', 'border-base-100');
        });

        if (activeEntry) {
          const targetId = activeEntry.target.id;
          const correspondingDot = document.querySelector(`.timeline-dot[data-timeline-dot-for="${targetId}"]`);
          if (correspondingDot) {
            correspondingDot.classList.add('bg-primary', 'scale-125', 'border-primary/50');
            correspondingDot.classList.remove('bg-base-300', 'border-base-100');
          }
        }
      }, { 
        threshold: 0.2,
        rootMargin: "-40% 0px -40% 0px"
      });
      experienceItems.forEach(item => observer.observe(item));
    }

    // Command Palette functionality
    const commandPalette = document.getElementById('command-palette');
    const messageModal = document.getElementById('message-modal');
    const messageForm = document.getElementById('message-form');
    const cancelMessageBtn = document.getElementById('cancel-message');

    // Toggle command palette
    function toggleCommandPalette() {
      commandPalette.classList.toggle('hidden');
    }

    // Close command palette
    function closeCommandPalette() {
      commandPalette.classList.add('hidden');
    }

    // Open message modal
    function openMessageModal() {
      closeCommandPalette();
      messageModal.classList.remove('hidden');
    }

    // Close message modal
    function closeMessageModal() {
      messageModal.classList.add('hidden');
    }

    // Keyboard shortcuts
    document.addEventListener('keydown', (e) => {
      // Cmd+K or Ctrl+K to toggle command palette
      if ((e.metaKey || e.ctrlKey) && e.key === 'k') {
        e.preventDefault();
        toggleCommandPalette();
      }
      
      // Escape to close modals
      if (e.key === 'Escape') {
        closeCommandPalette();
        closeMessageModal();
      }

      // Individual shortcuts when command palette is open
      if (!commandPalette.classList.contains('hidden')) {
        if ((e.metaKey || e.ctrlKey)) {
          switch(e.key) {
            case 'p':
              e.preventDefault();
              // Download Security Resume
              window.open('/resume-security.pdf', '_blank');
              closeCommandPalette();
              break;
            case 's':
              e.preventDefault();
              // Download Software Engineering Resume
              window.open('/resume-software.pdf', '_blank');
              closeCommandPalette();
              break;
            case 'l':
              e.preventDefault();
              window.open('https://linkedin.com/in/fedi-bellakhel', '_blank');
              closeCommandPalette();
              break;
            case 'x':
              e.preventDefault();
              window.open('https://twitter.com/fedibellakhel', '_blank');
              closeCommandPalette();
              break;
            case 'g':
              e.preventDefault();
              window.open('https://github.com/fedei10', '_blank');
              closeCommandPalette();
              break;
            case 'm':
              e.preventDefault();
              openMessageModal();
              break;
          }
        }
      }
    });

    // Command palette click handlers
    document.querySelectorAll('.command-item').forEach(item => {
      item.addEventListener('click', () => {
        const action = item.dataset.action;
        
        switch(action) {
          case 'linkedin':
            window.open('https://linkedin.com/in/fedi-bellakhel', '_blank');
            break;
          case 'twitter':
            window.open('https://twitter.com/fedibellakhel', '_blank');
            break;
          case 'github':
            window.open('https://github.com/fedei10', '_blank');
            break;
          case 'message':
            openMessageModal();
            return; // Don't close command palette yet
        }
        
        closeCommandPalette();
      });
    });

    // Close modals when clicking outside
    commandPalette.addEventListener('click', (e) => {
      if (e.target === commandPalette) {
        closeCommandPalette();
      }
    });

    messageModal.addEventListener('click', (e) => {
      if (e.target === messageModal) {
        closeMessageModal();
      }
    });

    // Message form handlers
    cancelMessageBtn.addEventListener('click', closeMessageModal);
    
    messageForm.addEventListener('submit', (e) => {
      e.preventDefault();
      // Here you would typically send the form data to your backend
      alert('Thank you for your message! I\'ll get back to you soon.');
      closeMessageModal();
      messageForm.reset();
    });
  });
</script>
</MainLayout>
