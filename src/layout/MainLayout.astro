---
import Navbar from '../pages/widgets/navbar.astro';
import Footer from '../pages/widgets/footer.astro';
import ThemeSwitcherDrawer from '../theme/ThemeSwitcherDrawer.astro'; // Import the new component
import "../assets/app.css";
---

<html lang="en" data-theme="dracula"> {/* Default theme can be set here or managed by script */}
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fedi Bellakhel - Software Engineer</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <slot name="head" />
    <style is:global>
      body {
        font-family: 'Inter', ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        background-color: hsl(var(--b1));
        color: hsl(var(--bc));
        min-height: 100vh;
      }
      .section-heading {
        font-size: 1.25rem; 
        line-height: 1.75rem;
        font-weight: 600; 
        letter-spacing: -0.02em;
        margin-bottom: 1.5rem; 
        color: hsl(var(--bc));
      }
      .experience-card {
        background-color: hsl(var(--b2)/0.5);
        transition: background-color 0.3s ease;
      }
      .experience-card:hover {
        background-color: hsl(var(--b2)/0.8);
      }
      a {
        color: hsl(var(--p));
        text-decoration: none;
      }
      a:hover {
        text-decoration: underline;
        color: hsl(var(--pf, var(--p)));
      }
      .experience-card a:not(.btn) {
         color: hsl(var(--p));
      }
      .experience-card a:not(.btn):hover {
         color: hsl(var(--pf, var(--p)));
      }
      .profile-social-icon {
        color: hsl(var(--nc));
      }
      .profile-social-icon:hover {
        color: hsl(var(--p));
      }
    </style>
  </head>
  <body class="flex flex-col">
    <ThemeSwitcherDrawer /> {/* Add the theme switcher drawer component here */}
    
    {/* The drawer checkbox is in ThemeSwitcherDrawer.astro.
        The page content needs to be wrapped in drawer-content if the drawer is not an overlay type.
        However, for an end-drawer that overlays, the main content doesn't need special wrapping,
        but the trigger button (label) needs to be accessible.
    */}
    <div class="drawer-content flex flex-col min-h-screen"> {/* Wrap page content for drawer */}
        <Navbar />
        <main class="flex-grow container mx-auto px-4 py-8 pt-20 pb-28"> 
          <slot />
        </main>
        <Footer />
    </div>
  </body>
</html>
